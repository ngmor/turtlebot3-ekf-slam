<launch>
    <arg name="use_rviz" default="true"
        description="Start RVIZ to visualize robot. Valid choices are: ['true', 'false']"
    />

    <arg name="world_yaml_path" default="$(find-pkg-share nusim)/config/basic_world.yaml"
        description="Path to yaml file for world parameters. Set to empty string to omit."
    />

    <!-- TODO update README with new arguments for this launch file -->

    <node pkg="rviz2" exec="rviz2"
        args="-d $(find-pkg-share nusim)/config/nusim.rviz"
        if="$(var use_rviz)"
    />

    <!-- Ground Truth -->
    <node pkg="nusim" exec="nusim">
        <param from="$(var world_yaml_path)"/>
        <param from="$(find-pkg-share nuturtle_description)/config/diff_params.yaml"/>
    </node>

    <include file="$(find-pkg-share nuturtle_description)/launch/load_one.launch.py">
        <arg name="color" value="red"/>
        <arg name="use_rviz" value="false"/>
    </include>

</launch>